<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:enums="clr-namespace:LifeSyncApp.Models.TaskManager.Enums"
             x:Class="LifeSyncApp.Views.TaskManager.TaskItem.CreateTaskItemPopup">

    <Border BackgroundColor="White"
            StrokeShape="RoundRectangle 16 16 0 0"
            Padding="16"
            VerticalOptions="End">

        <VerticalStackLayout Spacing="12">

            <Grid ColumnDefinitions="*,Auto" VerticalOptions="Center">
                <Label Text="Nova Tarefa"
                       FontSize="18"
                       FontAttributes="Bold"
                       TextColor="#111" />

                <Button Grid.Column="1"
                        Text="✕"
                        BackgroundColor="Transparent"
                        Command="{Binding CloseCreateTaskModalCommand}" />
            </Grid>

            <BoxView HeightRequest="1" Color="#EEE" />

            <Label Text="Título" FontSize="12" TextColor="#7F8C8D" />
            <Entry Placeholder="Ex: Finalizar relatório mensal"
                   Text="{Binding NewTaskTitle}" />

            <Label Text="Descrição" FontSize="12" TextColor="#7F8C8D" />
            <Editor Placeholder="Descreva os detalhes da tarefa..."
                    AutoSize="TextChanges"
                    HeightRequest="90"
                    Text="{Binding NewTaskDescription}" />

            <Label Text="Prioridade" FontSize="12" TextColor="#7F8C8D" />
            <Picker ItemsSource="{Binding PriorityOptions}"
                    SelectedItem="{Binding NewTaskPriority}"
                    Title="Selecione" />

            <Label Text="Data de Vencimento" FontSize="12" TextColor="#7F8C8D" />
            <DatePicker Date="{Binding NewTaskDueDate}" />

            <Grid ColumnDefinitions="*,*" ColumnSpacing="12" Margin="0,8,0,0">
                <Button Text="Cancelar"
                        Command="{Binding CloseCreateTaskModalCommand}" />
                <Button Grid.Column="1"
                        Text="Criar Tarefa"
                        BackgroundColor="#171717"
                        TextColor="White"
                        Command="{Binding CreateTaskCommand}"
                        IsEnabled="{Binding CanCreateTask}" />
            </Grid>

        </VerticalStackLayout>
    </Border>
</ContentView>
